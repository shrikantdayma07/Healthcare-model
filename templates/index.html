<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heart Disease Prediction</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: Arial, sans-serif;
    }
    .container {
      max-width: 600px;
      margin-top: 50px;
      background: #ffffff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .btn-custom {
      background-color: #dc3545;
      color: white;
    }
    .btn-custom:hover {
      background-color: #c82333;
    }
    /* Fade-in animation for the result and visualizations */
    .fade-in {
      animation: fadeIn 1.5s ease-in-out;
    }
    @keyframes fadeIn {
      0% {opacity: 0;}
      100% {opacity: 1;}
    }
  </style>
</head>
<body>
<div class="container">
  <h2 class="text-center">Heart Disease Prediction</h2>
  
  <!-- Prediction Form -->
  <form action="/predict" method="post">
    <div class="mb-3">
      <label class="form-label">Age</label>
      <input type="number" name="age" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Sex (1=Male, 0=Female)</label>
      <input type="number" name="sex" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Chest Pain Type (0-3)</label>
      <input type="number" name="cp" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Resting Blood Pressure</label>
      <input type="number" name="trestbps" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Cholesterol</label>
      <input type="number" name="chol" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Fasting Blood Sugar (1=Yes, 0=No)</label>
      <input type="number" name="fbs" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Rest ECG (0-2)</label>
      <input type="number" name="restecg" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Max Heart Rate</label>
      <input type="number" name="thalach" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Exercise Induced Angina (1=Yes, 0=No)</label>
      <input type="number" name="exang" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Oldpeak (ST Depression)</label>
      <input type="number" step="0.1" name="oldpeak" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Slope (0-2)</label>
      <input type="number" name="slope" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">CA (0-4)</label>
      <input type="number" name="ca" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Thal (0-3)</label>
      <input type="number" name="thal" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-custom w-100">Predict</button>
  </form>

  {% if prediction_text %}
    <div class="alert {{ alert_class }} mt-4 fade-in text-center" style="font-size: 1.1rem;">
      <strong>{{ final_icon }} {{ prediction_text }}</strong>
    </div>
    
    <!-- Data Visualizations -->
    <div id="visualizations" class="mt-4 text-center fade-in">
      <h3>Data Visualizations</h3>
      {% if graph_url %}
        <img src="{{ graph_url }}" alt="Bar Chart" class="img-fluid mt-3" style="margin: 0 auto;">
      {% endif %}
      {% if speedometer_url %}
        <img src="{{ speedometer_url }}" alt="Speedometer" class="img-fluid mt-3" style="margin: 0 auto;">
      {% endif %}
    </div>
  {% endif %}
</div>
</body>
</html>
